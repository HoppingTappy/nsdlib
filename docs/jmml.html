<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft&reg; HTML Help Workshop 4.1">
<meta http-equiv='Content-Type' content='text/html;charset=utf-8'>
<meta http-equiv='Content-Style-Type' content='text/css'>
<link rel="stylesheet" type="text/css" href="help.css">
<Title>ストトン表記</Title>
</HEAD>
<BODY>

<!-- header start -->
<div id='header'>
<h1>NSDL（NES Sound Driver Library）</h1>
<a href="index.html">トップ</a>＼
<a href="usage.html">使い方</a>＼
<a href="usage_nsc.html">MMLコンパイラ</a>＼
</div>

<!-- ────────────────────────────────── -->
<!-- contents start -->
<div id='contents'>
<h2>ストトン表記</h2>

<div class='block'>
<p>
ストトン表記とは、音楽を日本語で打ち込むための構文で、簡単に音楽を打ち込むことができます。<br>
ＭＭＬ表記よりは機能に劣りますが、ＭＭＬ表記とストトン表記の混在は可能です。<br>
</p>
<p>
すととんは、付属のnsc.exeをご使用の場合はShift-JISで記述してください。<br>
それ以外の環境にてビルドした場合は、その環境に合わせた文字コードで記述してください。<br>
</p>
</div>



<!-- ────────────────────────────────── -->
<div class='block'>
<h3><a name="common">全体のコマンド</a></h3>
<p>
曲や効果音の設定・記述をするためのコマンド群です。<br>
</p>

<table>
<caption>コマンド一覧</caption>
<tr><th>コマンド							</th><th>内容</th></tr>
<tr><td>曲名		"<var>曲名</var>"		</td><td>タイトル名を設定します。</td></tr>
<tr><td>作曲		"<var>作曲者</var>"		</td><td>作曲者を設定します。</td></tr>
<tr><td>作者		"<var>作者</var>"		</td><td>著作権者を設定します。</td></tr>
<tr><td>製作者		"<var>製作者</var>"		</td><td>製作者を設定します(NSF2, NSFe)。</td></tr>
<tr><td>テキスト	"<var>テキスト</var>"	</td><td>テキストを設定します(NSF2, NSFe)。</td></tr>
<tr><td>音楽順番	{<var>順番</var>}		</td><td>BGMの演奏順番を設定します(NSF2, NSFe)。</td></tr>
<tr><td>効果音順番	{<var>順番</var>}		</td><td>SE の演奏順番を設定します(NSF2, NSFe)。</td></tr>
<tr><td>コード		"<var>コード名</var>"	</td><td>リンクするＮＳＦ用のＲＯＭコードを指定します。（Default: <var>name</var> = `nsd.bin'）</td></tr>
<tr><td>読む		"<var>ファイル名</var>"	</td><td>外部ファイルを呼び込みます。</td></tr>
<tr><td>音楽数		<var>n</var>			</td><td>BGMの曲数を設定します。（Default: <var>n</var> = 1）</td></tr>
<tr><td>効果音数	<var>n</var>			</td><td>SE の曲数を設定します。（Default: <var>n</var> = 0）</td></tr>
<tr><td>エンベロープ(<var>n</var>){<br> <var>音量推移パターン</var><br>}	</td>
	<td><var>n</var>番の音量推移（エンベロープ）パターンの記述ブロックです。<br>
		音量推移（エンベロープ）パターンの記述は、<a href="jmml.html#envelope">音量推移（エンベロープ）パターンの記法</a>の項を参照ください。</td></tr>
<tr><td>ビブラート(<var>n</var>){<br> <var>音程推移パターン</var><br>}	</td>
	<td><var>n</var>番の音程推移（ビブラート）パターンの記述ブロックです。<br>
		音程推移（ビブラート）パターンの記述は、<a href="jmml.html#vibrato">音程推移（ビブラート）パターンの記法</a>の項を参照ください。</td></tr>
<tr><td>音楽(<var>n</var>){<br> <var>音楽データ</var><br>}	</td>
	<td><var>n</var>番目のBGMのシーケンスの記述ブロックです。<br>
		シーケンスパターンの記述は、<a href="jmml.html#sequence">音楽・効果音の記法</a>の項を参照ください。<br>
		番号は0からカウントします。</td></tr>
<tr><td>効果音(<var>n</var>){<br> <var>効果音データ</var><br>}		</td>
	<td><var>n</var>番目のSE のシーケンスの記述ブロックです。<br>
		シーケンスパターンの記述は、<a href="jmml.html#sequence">音楽・効果音の記法</a>の項を参照ください。<br>
		番号は0からカウントします。</td></tr>
<tr><td>;<span style="color:green;">コメント</span>		</td><td>１行コメントです。改行までの記述を無視します。<br>（各記述ブロック内でも有効です）</td></tr>
<tr><td>//<span style="color:green;">コメント</span>	</td><td>１行コメントです。改行までの記述を無視します。<br>（各記述ブロック内でも有効です）</td></tr>
<tr><td>/*<span style="color:green;">コメント</span>*/	</td><td>範囲コメントです。 /* と */ の間の記述を無視します。<br>（各記述ブロック内でも有効です）</td></tr>
</table>
<br>
</div>


<!-- ────────────────────────────────── -->
<div class='block'>
<h3><a name="sequence">音楽・効果音の記法</a></h3>
<p>
シーケンスパターンの記法です。<br>
</p>

<table>
<tr><th>ストトン表記	</th><th>同等のMML表記</th><th>内容</th></tr>
<tr><td>曲名			"<var>曲名</var>"	</td><td>#label "<var>strings</var>"	</td><td>曲名を設定します。	</td></tr>
<tr><td>作曲			"<var>作曲者</var>"	</td><td>#author "<var>strings</var>"	</td><td>作曲者を設定します。	</td></tr>
<tr><td>時間			<var>n</var>		</td><td>#time <var>n</var>				</td><td>演奏時間をmsec単位で設定します。	</td></tr>
<tr><td>フェードアウト	<var>n</var>		</td><td>#fade <var>n</var>				</td><td>フェードアウト時間をmsec単位で設定します。	</td></tr>
<tr><td><a href="jmml_note.html">ラ				</a></td><td><a href="mml_note.html">a</a></td><td>音符 (A, La, ラ)</td></tr>
<tr><td><a href="jmml_note.html">シ				</a></td><td><a href="mml_note.html">b</a></td><td>音符 (B, Si, シ)</td></tr>
<tr><td><a href="jmml_note.html">ド				</a></td><td><a href="mml_note.html">c</a></td><td>音符 (C, Do, ド)</td></tr>
<tr><td><a href="jmml_note.html">レ				</a></td><td><a href="mml_note.html">d</a></td><td>音符 (D, Re, レ)</td></tr>
<tr><td><a href="jmml_note.html">ミ				</a></td><td><a href="mml_note.html">e</a></td><td>音符 (E, Mi, ミ)</td></tr>
<tr><td><a href="jmml_note.html">ファ			</a></td><td><a href="mml_note.html">f</a></td><td>音符 (F, Fa, ファ)</td></tr>
<tr><td><a href="jmml_note.html">ソ				</a></td><td><a href="mml_note.html">g</a></td><td>音符 (G, Sol, ソ)</td></tr>
<tr><td><a href="jmml_tie.html">ー				</a></td><td><a href="mml_tie.html">^</a></td><td>タイ</td></tr>
<tr><td><a href="jmml_rest.html">ン, ッ			</a></td><td><a href="mml_rest.html">r</a></td><td>休符</td></tr>
<tr><td><a href="jmml_length.html">音符			</a></td><td><a href="mml_length.html">l</a></td><td>音長を省略した時に適用する音長</td></tr>
<tr><td><a href="jmml_voice.html">音色			</a></td><td><a href="mml_voice.html">@</a></td><td>音色</td></tr>
<tr><td><a href="jmml_octave.html">音階			</a></td><td><a href="mml_octave.html">o</a></td><td>オクターブ</td></tr>
<tr><td><a href="jmml_relative_octave.html">↑, 上	</a></td><td><a href="mml_relative_octave.html">&gt;</a></td><td>オクターブ＋１</td></tr>
<tr><td><a href="jmml_relative_octave.html">↓, 下	</a></td><td><a href="mml_relative_octave.html">&lt;</a></td><td>オクターブ－１</td></tr>
<tr><td><a href="jmml_relative_octave.html">”	</a></td><td><a href="mml_relative_octave.html">"</a></td><td>オクターブ－１（次の音符のみ）</td></tr>
<tr><td><a href="jmml_relative_octave.html">‘	</a></td><td><a href="mml_relative_octave.html">`</a></td><td>オクターブ＋１（次の音符のみ）</td></tr>
<tr><td><a href="jmml_volume.html">音量			</a></td><td><a href="mml_volume.html">v</a></td><td>音量</td></tr>
<tr><td><a href="jmml_relative_volume.html">小さく</a></td><td><a href="mml_relative_volume.html">(</a></td><td>音量－１</td></tr>
<tr><td><a href="jmml_relative_volume.html">大きく</a></td><td><a href="mml_relative_volume.html">)</a></td><td>音量＋１</td></tr>
<tr><td><a href="jmml_KeySignature.html">調{}	</a></td><td><a href="mml_KeySignature.html">K{}</a></td><td>調号（自動臨時記号）</td></tr>
<tr><td><a href="jmml_echo.html">エコー			</a></td><td><a href="mml_echo.html">EC</a></td><td>疑似エコー</td></tr>
<tr><td><a href="jmml_echo.html">エコーオフ		</a></td><td><a href="mml_echo.html">EC*</a></td><td>疑似エコー・オフ</td></tr>
<tr><td><a href="jmml_envelop.html">エンベロープ	</a></td><td><a href="mml_envelop.html">Ev</a></td><td>音量推移パターンの指定</td></tr>
<tr><td><a href="jmml_envelop.html">エンベロープオフ</a></td><td><a href="mml_envelop.html">Ev*</a></td><td>音量推移オフ</td></tr>
<tr><td><a href="jmml_gate.html">ゲート			</a></td><td><a href="mml_gate.html">q</a></td><td>ゲートタイム（発音終了を早めるtick数）</td></tr>
<tr><td><a href="jmml_detune.html">ディチューン	</a></td><td><a href="mml_detune.html">D</a></td><td>ディチューン</td></tr>
<tr><td><a href="jmml_tempo.html">テンポ		</a></td><td><a href="mml_tempo.html">t</a></td><td>テンポ</td></tr>
<tr><td><a href="jmml_tempo.html">←			</a></td><td><a href="mml_tempo.html">t_-4</a></td><td>meno mosso</td></tr>
<tr><td><a href="jmml_tempo.html">→			</a></td><td><a href="mml_tempo.html">t_+4</a></td><td>piu mosso</td></tr>
<tr><td><a href="jmml_TR.html">トラック			</a></td><td><a href="mml_TR.html">TR</a></td><td>トラック</td></tr>
<tr><td><a href="jmml_vibrato.html">ビブラート		</a></td><td><a href="mml_envelop.html">Em</a></td><td>ビブラート・パターンの指定</td></tr>
<tr><td><a href="jmml_vibrato.html">ビブラートオフ	</a></td><td><a href="mml_envelop.html">Em*</a></td><td>ビブラート・オフ</td></tr>
<tr><td><a href="jmml_portamento.html">ポルタメント	</a></td><td><a href="mml_portamento.html">P</a></td><td>ポルタメント</td></tr>
<tr><td><a href="jmml_loop.html">∞				</a></td><td><a href="mml_loop.html">L</a></td><td>無限ループの開始位置</td></tr>
<tr><td><a href="jmml_repeatA.html">【　：　】		</a></td><td><a href="mml_repeatA.html">[  :  ]</a></td><td>リピート(Ａ)</td></tr>
<tr><td><a href="jmml_repeatB.html">｜：　￥　：｜	</a></td><td><a href="mml_repeatB.html">|:  \  :|</a></td><td>リピート(Ｂ)</td></tr>
<tr><td>｜				</td><td>|</td><td>小節線（コンパイルには反映されません）</td></tr>
</table>




</div>

<!-- ────────────────────────────────── -->
<div class='block'>
<h3><a name="envelope">音量推移（エンベロープ）パターンの記法</a></h3>
<p>
音量推移（エンベロープ）パターンの記法です。<br>
</p>

<table>
<tr><th>Command			</th><th>Contens</th></tr>
<tr><td><var>n</var>	</td><td>音量値（<var>n</var> = 0 ～ 15）</td></tr>
<tr><td>D<var>n</var>	</td><td>前回の音量値を<var>n</var>+1フレーム間維持します。（<var>n</var> = 0 ～ 255）</td></tr>
<tr><td>L				</td><td>Rコマンド、又はパターン最後まで行った時の戻り先を指定します。<br>
								Rコマンドの後に書かれた場合は、キーオフ後のパターンにおける戻り先となります。<br>
								Rコマンド前でLコマンドを省略した場合、Rコマンドの直前のコマンドを繰り返します。<br>
								Rコマンド後でLコマンドを省略した場合、パターン定義最後のコマンドを繰り返します。</td></tr>
<tr><td>R				</td><td>以後を、キーオフ後のパターンとします。<br>
								リリースのパターンを指定しない場合、キーオフ後もそのままパターンが継続されます。</td></tr>
<tr><td>(<var>start</var>,<var>end</var>,<var>length</var>)</td><td><var>start</var>から<var>end</var>まで<var>length</var>フレームで変化します。</td></tr>
</table>

<h4>例（Sample）</h4>
<code><pre>
<span style="color:green;">// 音量推移パターン</span>
エンベロープ(0){	15 D10 14 13 12  L 11 11 10 10 9 9 10 10 R 9 8 7 6 5 L 4 4 3 3 2 2 3 3	}
</pre></code>


</div>


<!-- ────────────────────────────────── -->
<div class='block'>
<h3><a name="vibrapo">音程推移（ビブラート）パターンの記法</a></h3>
<p>
音程推移（ビブラート）パターンの記法です。<br>
</p>

<table>
<tr><th>Command			</th><th>Contens</th></tr>
<tr><td><var>n</var>	</td><td>音程値（<var>n</var> = -64 ～ 63）（※16=100cent）</td></tr>
<tr><td>D<var>n</var>	</td><td>前回の音量値を<var>n</var>+1フレーム間維持します。（<var>n</var> = 0 ～ 255）</td></tr>
<tr><td>L				</td><td>Rコマンド、又はパターン最後まで行った時の戻り先を指定します。<br>
								Rコマンドの後に書かれた場合は、キーオフ後のパターンにおける戻り先となります。<br>
								Rコマンド前でLコマンドを省略した場合、Rコマンドの直前のコマンドを繰り返します。<br>
								Rコマンド後でLコマンドを省略した場合、パターン定義最後のコマンドを繰り返します。</td></tr>
<tr><td>R				</td><td>以後を、キーオフ後のパターンとします。<br>
								リリースのパターンを指定しない場合、キーオフ後もそのままパターンが継続されます。</td></tr>
<tr><td>(<var>start</var>,<var>end</var>,<var>length</var>)</td><td><var>start</var>から<var>end</var>まで<var>length</var>フレームで変化します。</td></tr>
</table>

<h4>例（Sample）</h4>
<code><pre>
<span style="color:green;">// 音程推移パターン</span>
ビブラート(0){	0 D15 L 1 2 3 2 1 0 -1 -2 -3 -2 -1	}
</pre></code>

</div>


<!-- ────────────────────────────────── -->
<div class='block'>
<h3><a name="num">数値の記法</a></h3>
<p>
0～9で始まる数値は、10進数とみなします。<br>
$で始まる数値は、16進数とみなします。<br>
%で始まる数値は、2進数とみなします。<br>
</p>
<p>
※数値は半角で記述して下さい。全角には対応していません。
</p>
</div>

<!-- ────────────────────────────────── -->
</div>

</BODY>
</HTML>
